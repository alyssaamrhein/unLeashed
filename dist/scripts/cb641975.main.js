!function(){window.Unleashed=Ember.Application.create();Ember.FEATURES["ember-routing-drop-deprecated-action-style"]=!0}(),function(){Unleashed.ApplicationController=Ember.ObjectController.extend({userLocation:null,coords:function(){return this.get("userLocation")?"("+this.get("userLocation").coords.latitude+", "+this.get("userLocation").coords.longitude+")":void 0}.property("userLocation"),actions:{location:function(){{var a=this;navigator.geolocation.getCurrentPosition(function(b){console.log(b),a.set("userLocation",b)})}}}}),Unleashed.IndexController=Ember.Controller.extend({needs:["application"],latitude:function(){var a=this.get("controllers.application").userLocation;return a&&a.coords?a.coords.latitude:void 0}.property("controllers.application.userLocation"),longitude:function(){var a=this.get("controllers.application").userLocation;return a&&a.coords?a.coords.longitude:void 0}.property("controllers.application.userLocation")})}(),function(){Unleashed.ParkController=Ember.ObjectController.extend({deleteMode:!1,actions:{"delete":function(){this.toggleProperty("deleteMode")},cancelDelete:function(){this.set("deleteMode",!1)},confirmDelete:function(){this.get("model").deleteRecord(),this.get("model").save(),this.transitionToRoute("parks"),this.set("deleteMode",!1)},edit:function(){this.transitionToRoute("park.edit")}}})}(),function(){Unleashed.ParkEditController=Ember.ObjectController.extend({needs:["park"],actions:{editPark:function(){this.get("model").save(),this.transitionToRoute("index")}}})}(),function(){Unleashed.NewController=Ember.Controller.extend({actions:{create:function(){var a=this.getProperties("name","imgUrl","description","location","rating"),b=this.store.createRecord("park",a);b.save(),this.transitionToRoute("index")}}})}(),function(){Unleashed.ParksController=Ember.ObjectController.extend({parksCount:function(){return this.get("model.length")}.property("@each")})}(),function(){Unleashed.ApplicationAdapter=DS.FirebaseAdapter.extend({firebase:new Firebase("https://unleash.firebaseio.com/")})}(),function(){Unleashed.Park=DS.Model.extend({name:DS.attr("string"),imgUrl:DS.attr("string"),location:DS.attr("string"),description:DS.attr("string"),rating:DS.attr("number")}),Unleashed.Park.reopen({attributes:function(){var a=this;return Ember.keys(this.get("data")).map(function(b){return Em.Object.create({model:a,key:b,valueBinding:"model."+b})})}.property()})}(),function(){Unleashed.ParkEditRoute=Ember.Route.extend({model:function(){return this.get("store").find("park",this.modelFor("park").id)},setupController:function(a,b){a.set("model",b),buffer=b.get("attributes").map(function(a){return{key:a.get("key"),value:a.get("value")}}),a.set("buffer",buffer)}})}(),function(){Unleashed.NewParkRoute=Ember.Route.extend({})}(),function(){Unleashed.ParkRoute=Ember.Route.extend({model:function(a){return this.get("store").find("park",a.park_id)}})}(),function(){Unleashed.ParksRoute=Ember.Route.extend({model:function(){return this.get("store").find("park")}})}(),function(){Unleashed.GoogleMapsComponent=Ember.Component.extend({insertMap:function(){var a=this.$(".map-canvas"),b={center:new google.maps.LatLng(this.get("latitude"),this.get("longitude")),zoom:17,mapTypeId:google.maps.MapTypeId.ROADMAP};new google.maps.Map(a[0],b)}.on("didInsertElement"),coordinatesChanged:function(){var a=this.get("map");a&&a.setCenter(new google.maps.LatLng(this.get("latitude"),this.get("longitude")))}.observes("latitude","longitude")})}(),function(){Unleashed.ParkEditView=Ember.View.extend({})}(),function(){Unleashed.ParkView=Ember.View.extend({})}(),function(){Unleashed.ParksView=Ember.View.extend({})}(),function(){Unleashed.Router.map(function(){this.resource("parks",function(){this.resource("park",{path:"/:park_id"},function(){this.route("edit")})}),this.route("new")})}();